<div class="cashflow-page">
    <div class="cashflow-wrapper">

      <form (ngSubmit)="enviarConsulta()" [formGroup] = formBusqueda class="row g-3">
        <div class="col-md-3">
            <label for="fechaInicio" class="form-label">Fecha Inicio: </label>
            <input formControlName="fechaInicio" type="date" placeholder="Fecha Inicio" class="form-control">
        </div>
        <div class="col-md-3">
            <label for="fechaFin" class="form-label">Fecha Fin: </label>
            <input formControlName="fechaFin" type="date" placeholder="Fecha Fin" class="form-control">
        </div>

        <div class="col-md-2">
          <br>
          <button [disabled]="formBusqueda.invalid" class="login social-btn">Buscar</button>
        </div>
      </form>
    </div>
</div>


<div class="row">
  <h3>Bonos vendidos en las fechas escogidas</h3>
  <div class="col-10">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Decreto</th>
          <th>% Precio</th>
          <th>Rendimiento</th>
          <th>Días. ven.</th>
          <th>Años. ven</th>
          <th>Tasa</th>
          <th>V. Nominal</th>
          <th>V. Efectivo</th>
          <th>Emision</th>
          <th>Vencim.</th>
          <th>Tipo</th>
          <th>Mercado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataBonosDelDia">
          <td>{{ item.fecha | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.decreto }}</td>
          <td style="text-align: right;">{{ item.precio_porc| number:'1.6-6' }}</td>
          <td style="text-align: right;">{{ item.rendimiento| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.dias_por_vencer| number:'1.0-0' }}</td>
          <td style="text-align: right;">{{ item.anios_por_vencer| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.tasa_interes| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valor_nominal| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valor_efectivo| number:'1.2-2' }}</td>
          <td>{{ item.fecha_emision  | date: 'yyyy-MM-dd'}}</td>
          <td>{{ item.fecha_vencimiento  | date: 'yyyy-MM-dd'}}</td>
          <td style="text-align: right;">{{ item.tipo}}</td>
          <td style="text-align: right;">{{ item.tipo_mercado}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<div class="row">
  <h3>Obligaciones vendidas en las fechas escogidas</h3>
  <div class="col-12">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Emisor</th>
          <th>% Precio</th>
          <th>Rendimiento</th>
          <th>Días. ven.</th>
          <th>Años. ven.</th>
          <th>Tasa</th>
          <th>V. Nominal</th>
          <th>V. Efectivo</th>
          <th>Emision</th>
          <th>Vencim.</th>
          <th>Procedencia</th>
          <th>Mercado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataObligacionesDelDia">
          <td>{{ item.fecha | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.emisor }}</td>
          <td style="text-align: right;">{{ item.precio_porc| number:'1.6-6' }}</td>
          <td style="text-align: right;">{{ item.rendimiento| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.plazo_dias | number:'1.0-0' }}</td>
          <td style="text-align: right;">{{ item.plazo_anios| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.interes| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valornominal| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valorefectivo| number:'1.2-2' }}</td>
          <td>{{ item.emision  | date: 'yyyy-MM-dd'}}</td>
          <td>{{ item.vencimiento  | date: 'yyyy-MM-dd'}}</td>
          <td style="text-align: right;">{{ item.procedencia}}</td>
          <td style="text-align: right;">{{ item.mercado}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<div class="row">
  <h3>Papeles comerciales vendidos en las fechas escogidas</h3>
  <div class="col-12">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Emisor</th>
          <th>% Precio</th>
          <th>Rendimiento</th>
          <th>Días. ven.</th>
          <th>Años. ven.</th>
          <th>Desc.</th>
          <th>Tasa</th>
          <th>V. Nominal</th>
          <th>V. Efectivo</th>
          <th>Emision</th>
          <th>Vencim.</th>
          <th>Procedencia</th>
          <th>Mercado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataPapelesDelDia">
          <td>{{ item.fecha | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.emisor }}</td>
          <td style="text-align: right;">{{ item.precio_porc| number:'1.6-6' }}</td>
          <td style="text-align: right;">{{ item.rendimiento| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.plazo_dias | number:'1.0-0' }}</td>
          <td style="text-align: right;">{{ item.plazo_anios| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.descuento_porc| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.interes| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valornominal| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valorefectivo| number:'1.2-2' }}</td>
          <td>{{ item.emision  | date: 'yyyy-MM-dd'}}</td>
          <td>{{ item.vencimiento  | date: 'yyyy-MM-dd'}}</td>
          <td style="text-align: right;">{{ item.procedencia}}</td>
          <td style="text-align: right;">{{ item.mercado}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<div class="row">
  <h3>Facturas comerciales vendidas en las fechas escogidas</h3>
  <div class="col-12">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Emisor</th>
          <th>% Precio</th>
          <th>Rend.</th>
          <th>V.Nominal</th>
          <th>V.Efectivo</th>
          <th>Emision</th>
          <th>Vencim.</th>
          <th>Proc.</th>
          <th>Observaciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataFacturasDelDia">
          <td>{{ item.fecha | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.emisor }}</td>
          <td style="text-align: right;">{{ item.precio_porc| number:'1.6-6' }}</td>
          <td style="text-align: right;">{{ item.rendimiento| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valornominal| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valorefectivo| number:'1.2-2' }}</td>
          <td>{{ item.emision  | date: 'yyyy-MM-dd'}}</td>
          <td>{{ item.vencimiento  | date: 'yyyy-MM-dd'}}</td>
          <td style="text-align: right;">{{ item.procedencia}}</td>
          <td>{{ item.observaciones}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<div class="row">
  <h3>Valores Genéricos vendidos en las fechas escogidas</h3>
  <div class="col-12">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Emisor</th>
          <th>% Precio</th>
          <th>Rend.</th>
          <th>Días</th>
          <th>Años</th>
          <th>Tasa</th>
          <th>V.Nominal</th>
          <th>V.Efectivo</th>
          <th>Emision</th>
          <th>Vencim.</th>
          <th>Título</th>
          <th>Proced.</th>
          <th>Mercado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataGenericosDelDia">
          <td>{{ item.fecha | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.emisor }}</td>
          <td style="text-align: right;">{{ item.precio_porc| number:'1.6-6' }}</td>
          <td style="text-align: right;">{{ item.rendimiento| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.plazo_dias | number:'1.0-0' }}</td>
          <td style="text-align: right;">{{ item.plazo_anios| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.interes| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valornominal| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valorefectivo| number:'1.2-2' }}</td>
          <td>{{ item.emision  | date: 'yyyy-MM-dd'}}</td>
          <td>{{ item.vencimiento  | date: 'yyyy-MM-dd'}}</td>
          <td style="text-align: right;">{{ item.titulo}}</td>
          <td style="text-align: right;">{{ item.procedencia}}</td>
          <td style="text-align: right;">{{ item.mercado}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row">
  <h3>Titularizaciones vendidas en las fechas escogidas</h3>
  <div class="col-12">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Emisor</th>
          <th>% Precio</th>
          <th>Rend.</th>
          <th>Días</th>
          <th>Años</th>
          <th>Tasa</th>
          <th>V.Nominal</th>
          <th>V.Efectivo</th>
          <th>Emision</th>
          <th>Vencim.</th>
          <th>Proced.</th>
          <th>Mercado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataTitularizacionesDelDia">
          <td>{{ item.fecha | date: 'yyyy-MM-dd' }}</td>
          <td>{{ item.emisor }}</td>
          <td style="text-align: right;">{{ item.precio_porc| number:'1.6-6' }}</td>
          <td style="text-align: right;">{{ item.rendimiento| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.plazo_dias | number:'1.0-0' }}</td>
          <td style="text-align: right;">{{ item.plazo_anios| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.interes| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valornominal| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.valorefectivo| number:'1.2-2' }}</td>
          <td>{{ item.emision  | date: 'yyyy-MM-dd'}}</td>
          <td>{{ item.vencimiento  | date: 'yyyy-MM-dd'}}</td>
          <td style="text-align: right;">{{ item.procedencia}}</td>
          <td style="text-align: right;">{{ item.mercado}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<div class="row">
  <h3>Acciones vendidas en las fechas escogidas</h3>
  <div class="col-8">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Emisor</th>
          <th>Nominal</th>
          <th>Precio</th>
          <th>Cantidad</th>
          <th>Efectivo</th>
          <th>Procedencia</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataAccionesDelDia">
          <td>{{ item.fecha }}</td>
          <td>{{ item.emisor }}</td>
          <td style="text-align: right;">{{ item.valornominal | number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.precio | number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.cantidad | number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.efectivo | number:'1.2-2' }}</td>
          <td>{{ item.procedencia }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<div class="row">
  <h2>Fecha de las últimas acciones vendidas por empresa</h2>
  <div class="col-8">
    <table class="table table-striped table-hover table-sm table-bordered table-success">
      <thead>
        <tr>
          <th>Emisor</th>
          <th>Fecha</th>
          <th>Precio Máx</th>
          <th>Precio Mín</th>
          <th>Promedio</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataUltimaFechaAcciones">
          <td>{{ item.emisor }}</td>
          <td>{{ item.fechamaxima| date: 'yyyy-MM-dd' }}</td>
          <td style="text-align: right;">{{ item.preciomaximo| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.preciominimo| number:'1.2-2' }}</td>
          <td style="text-align: right;">{{ item.preciopromedio| number:'1.2-2' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
